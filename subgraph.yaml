specVersion: 0.0.1
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: RiskPoolsController
    network: rinkeby
    source:
      address: "0x2DAB624a14F11C13b40f4CD63D4c400Ed5128B5F"
      abi: RiskPoolsController
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - LogFeeAccrued
        - LogForwardedPayoutRequestDeclined
        - LogForwardedPayoutRequestProcessed
        - LogGovernance
        - LogLiquidation
        - LogMarketIncentiveFeeUpdated
        - LogMarketPolicyBuyerAllowlistIdChanged
        - LogMarketStatusChanged
        - LogNewDistributor
        - LogNewForwardedPayoutRequest
        - LogNewLevel
        - LogNewMarketCreated
        - LogNewMarketStatus
        - LogNewPayoutRequest
        - LogNewPool
        - LogNewProduct
        - LogNewProductStatus
        - LogNewSystemStatus
        - LogNextLevelAdded
        - LogNextLevelRemoved
        - LogPayout
        - LogPermissionTokenIssued
        - LogPermissionTokenRevoked
        - LogPolicyCoverChanged
        - LogPolicyDeposit
        - LogPolicyWithdraw
        - LogPoolAddedToMarket
        - LogPremiumEarned
        - LogRiskPoolAddedToLevel
        - LogRiskPoolRemovedFromLevel
        - LogSwap
        - LogWithdrawFee
      abis:
        - name: RiskPoolsController
          file: ./abis/RiskPoolsController.json
      eventHandlers:
        - event: LogFeeAccrued(uint256,address,uint256,uint256,address,uint256,address)
          handler: handleLogFeeAccrued
        - event: LogForwardedPayoutRequestDeclined(uint256)
          handler: handleLogForwardedPayoutRequestDeclined
        - event: LogForwardedPayoutRequestProcessed(uint256,address,uint256)
          handler: handleLogForwardedPayoutRequestProcessed
        - event: LogGovernance(uint8,address,address,uint256,uint256,bool)
          handler: handleLogGovernance
        - event: LogLiquidation(uint256)
          handler: handleLogLiquidation
        - event: LogMarketIncentiveFeeUpdated(uint256,uint256)
          handler: handleLogMarketIncentiveFeeUpdated
        - event: LogMarketPolicyBuyerAllowlistIdChanged(uint256,uint256)
          handler: handleLogMarketPolicyBuyerAllowlistIdChanged
        - event: LogMarketStatusChanged(uint256,bool)
          handler: handleLogMarketStatusChanged
        - event: LogNewDistributor(address)
          handler: handleLogNewDistributor
        - event: LogNewForwardedPayoutRequest(uint256)
          handler: handleLogNewForwardedPayoutRequest
        - event: LogNewLevel(uint256,uint256)
          handler: handleLogNewLevel
        - event: LogNewMarketCreated(address,uint256)
          handler: handleLogNewMarketCreated
        - event: LogNewMarketStatus(uint256,uint8)
          handler: handleLogNewMarketStatus
        - event: LogNewPayoutRequest(uint256)
          handler: handleLogNewPayoutRequest
        - event: LogNewPool(address)
          handler: handleLogNewPool
        - event: LogNewProduct(address)
          handler: handleLogNewProduct
        - event: LogNewProductStatus(address,uint8)
          handler: handleLogNewProductStatus
        - event: LogNewSystemStatus(uint8)
          handler: handleLogNewSystemStatus
        - event: LogNextLevelAdded(uint256,uint256,uint256)
          handler: handleLogNextLevelAdded
        - event: LogNextLevelRemoved(uint256,uint256,uint256,uint256)
          handler: handleLogNextLevelRemoved
        - event: LogPayout(uint256,address,address,uint256)
          handler: handleLogPayout
        - event: LogPermissionTokenIssued(uint256,uint256,address)
          handler: handleLogPermissionTokenIssued
        - event: LogPermissionTokenRevoked(uint256,uint256)
          handler: handleLogPermissionTokenRevoked
        - event: LogPolicyCoverChanged(uint256,uint256,uint256)
          handler: handleLogPolicyCoverChanged
        - event: LogPolicyDeposit(uint256,address,uint256,uint256,uint256)
          handler: handleLogPolicyDeposit
        - event: LogPolicyWithdraw(uint256,address,uint256,uint256,uint256)
          handler: handleLogPolicyWithdraw
        - event: LogPoolAddedToMarket(uint256,address)
          handler: handleLogPoolAddedToMarket
        - event: LogPremiumEarned(uint256,uint256)
          handler: handleLogPremiumEarned
        - event: LogRiskPoolAddedToLevel(uint256,uint256,address)
          handler: handleLogRiskPoolAddedToLevel
        - event: LogRiskPoolRemovedFromLevel(uint256,uint256,address)
          handler: handleLogRiskPoolRemovedFromLevel
        - event: LogSwap(uint256,address,address,uint256,address,uint256)
          handler: handleLogSwap
        - event: LogWithdrawFee(address,address,address,uint256)
          handler: handleLogWithdrawFee
      file: ./src/mapping.ts
